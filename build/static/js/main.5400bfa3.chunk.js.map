{"version":3,"sources":["components/Person.js","services/persons.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","name","number","react_default","a","createElement","baseUrl","services_persons","axios","get","then","res","data","newObject","post","put","concat","id","delete","Persons","persons","setPersons","filter","createMessage","person","toLowerCase","includes","map","key","components_Person","onClick","window","confirm","personService","p","catch","deletePerson","PersonForm","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","onSubmit","event","preventDefault","length","find","changedPerson","objectSpread","returnedPerson","updateNumber","err","JSON","stringify","response","value","onChange","target","type","Filter","newFilter","setNewFilter","Notification","message","color","notificationStyle","backgroundColor","fontSize","borderStyle","borderRadius","padding","marginBottom","fontStyle","style","App","_useState5","_useState6","setMessage","_useState7","_useState8","setColor","useEffect","initialPersons","setMessageAndColor","msg","clr","setTimeout","components_Notification","components_Filter","components_PersonForm","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.5400bfa3.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Person = ({ name, number }) => (\r\n  <p>\r\n    {name} {number}\r\n  </p>\r\n);\r\n\r\nexport default Person;\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const req = axios.get(baseUrl);\r\n  return req.then(res => res.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const req = axios.post(baseUrl, newObject);\r\n  return req.then(res => res.data);\r\n};\r\n\r\nconst update = newObject => {\r\n  const req = axios.put(`${baseUrl}/${newObject.id}`, newObject);\r\n  return req.then(res => res.data);\r\n};\r\n\r\nconst remove = id => {\r\n  const req = axios.delete(`${baseUrl}/${id}`);\r\n  return req.then(res => res.data);\r\n};\r\n\r\nexport default { getAll, create, update, remove };\r\n","import React from \"react\";\r\nimport Person from \"./Person\";\r\nimport personService from \"../services/persons\";\r\n\r\nconst Persons = ({ persons, setPersons, filter, createMessage }) => {\r\n  const filteredPersons = () => {\r\n    return persons.filter(person => person.name.toLowerCase().includes(filter));\r\n  };\r\n\r\n  const deletePerson = person => {\r\n    if (window.confirm(\"Delete \" + person.name)) {\r\n      personService\r\n        .remove(person.id)\r\n        .then(() => {\r\n          setPersons(persons.filter(p => p.id !== person.id));\r\n          createMessage(`Deleted ${person.name}`, \"red\");\r\n        })\r\n        .catch(() => {\r\n          createMessage(\r\n            `Information of ${\r\n              person.name\r\n            } has already been removed from server`,\r\n            \"darkRed\"\r\n          );\r\n        });\r\n    }\r\n  };\r\n\r\n  const rows = () =>\r\n    filteredPersons().map(person => (\r\n      <div key={person.id}>\r\n        <Person key={person.id} name={person.name} number={person.number} />\r\n        <button onClick={() => deletePerson(person)}>delete</button>\r\n      </div>\r\n    ));\r\n\r\n  return <div>{rows()}</div>;\r\n};\r\n\r\nexport default Persons;\r\n","import React, { useState } from \"react\";\r\nimport personService from \"../services/persons\";\r\n\r\nconst PersonForm = ({ persons, setPersons, createMessage }) => {\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n\r\n  const isNameTaken = () => {\r\n    return persons.filter(person => person.name === newName).length !== 0;\r\n  };\r\n\r\n  const updateNumber = () => {\r\n    const person = persons.find(p => p.name === newName);\r\n    const changedPerson = { ...person, number: newNumber };\r\n\r\n    personService\r\n      .update(changedPerson)\r\n      .then(returnedPerson => {\r\n        setPersons(\r\n          persons.map(person =>\r\n            person.id !== changedPerson.id ? person : returnedPerson\r\n          )\r\n        );\r\n        createMessage(`Updated ${person.name}`, \"blue\");\r\n      })\r\n      .catch(() => {\r\n        createMessage(\r\n          `Information of ${person.name} has already been removed from server`,\r\n          \"darkRed\"\r\n        );\r\n      });\r\n  };\r\n\r\n  const addPerson = () => {\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n    personService\r\n      .create(personObject)\r\n      .then(returnedPerson => {\r\n        setPersons(persons.concat(returnedPerson));\r\n        createMessage(`Added ${returnedPerson.name}`, \"green\");\r\n      })\r\n      .catch(err => {\r\n        createMessage(JSON.stringify(err.response.data), \"darkRed\");\r\n      });\r\n  };\r\n  const addOrUpdatePerson = event => {\r\n    event.preventDefault();\r\n    if (isNameTaken()) {\r\n      if (\r\n        window.confirm(\r\n          newName +\r\n            \" is already added to phonebook, replace old number with a new one?\"\r\n        )\r\n      ) {\r\n        updateNumber();\r\n      }\r\n    } else {\r\n      addPerson();\r\n    }\r\n    setNewName(\"\");\r\n    setNewNumber(\"\");\r\n  };\r\n\r\n  const handleNameChange = event => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = event => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n  return (\r\n    <form onSubmit={addOrUpdatePerson}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={newNumber} onChange={handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\nconst Filter = ({ newFilter, setNewFilter }) => {\r\n  const handleFilterChange = event => {\r\n    setNewFilter(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input value={newFilter} onChange={handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from \"react\";\r\n\r\nconst Notification = ({ message, color }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n  const notificationStyle = {\r\n    color: color,\r\n    backgroundColor: \"lightgrey\",\r\n    fontSize: 20,\r\n    borderStyle: \"solid\",\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n    fontStyle: \"italic\"\r\n  };\r\n\r\n  return <div style={notificationStyle}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport PersonForm from \"./components/PersonForm\";\nimport Filter from \"./components/Filter\";\nimport personService from \"./services/persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [color, setColor] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n    });\n  }, []);\n\n  const setMessageAndColor = (msg, clr) => {\n    setMessage(msg);\n    setColor(clr);\n    setTimeout(() => {\n      setMessage(null);\n      setColor(null);\n    }, 5000);\n  };\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} color={color} />\n      <Filter newFilter={newFilter} setNewFilter={setNewFilter} />\n      <h2>add new</h2>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        createMessage={setMessageAndColor}\n      />\n      <h2>Numbers</h2>\n      <Persons\n        persons={persons}\n        setPersons={setPersons}\n        filter={newFilter}\n        createMessage={setMessageAndColor}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}